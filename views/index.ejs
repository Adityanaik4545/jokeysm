<head>
    <link rel="stylesheet" href="/output.css">

</head>
<body class="bg-black">
    <header class="flex justify-center items-center">
            <img src="assets/logo.png" width="300px" alt="logo">
    </header>
<main class="text-white flex items-center flex-col">
<div class="displayJokes text-3xl font-light bg-gray-900 p-5 w-1/2 h-48 rounded-3xl">
    <div class="flex justify-center  flex-col gap-2">
        <% if(locals.joke) {%>
            <div><%= joke %></div>
            <% } else { %>
                <div><%= locals.setup %></div>
                <div><%= locals.delivery %></div>
             <%}%>
    </div>
</div>
<div class="btn">
    <button class="bg-blue-600 hover:bg-blue-800 font-semibold w-xs p-4 rounded-xl mt-10" onclick="window.location.href='/generate'">Tell me another joke</button>
</div>
<div class="category w-1/2  h-52 rounded-2xl mt-7  flex items-center justify-center flex-col">
    <h3 class="text-2xl font-semibold text-gray-300">Choose category:</h3>
    <div class="btn mt-5 flex gap-5">
        <button class="bg-gray-700 hover:text-black hover:bg-gray-400 font-semibold p-4 rounded-lg" onclick="window.location.href='/generate?category=Any'">Any</button>
        <button class="bg-gray-700 hover:text-black hover:bg-gray-400 font-semibold p-4 rounded-lg" onclick="window.location.href='/generate?category=Programming'">Programming</button>
        <button class="bg-gray-700 hover:text-black hover:bg-gray-400 font-semibold p-4 rounded-lg" onclick="window.location.href='/generate?category=Dark'">Dark</button>
        <button class="bg-gray-700 hover:text-black hover:bg-gray-400 font-semibold p-4 rounded-lg" onclick="window.location.href='/generate?category=Spooky'">Spooky</button>
        <button class="bg-gray-700 hover:text-black hover:bg-gray-400 font-semibold p-4 rounded-lg" onclick="window.location.href='/generate?category=Misc'">Misc</button>
        <button class="bg-gray-700 hover:text-black hover:bg-gray-400 font-semibold p-4 rounded-lg" onclick="window.location.href='/generate?category=Pun'">Pun</button>
        <button class="bg-gray-700 hover:text-black hover:bg-gray-400 font-semibold p-4 rounded-lg" onclick="window.location.href='/generate?category=Chrismas'">Chrismas</button>
    </div>
</div>
</main>
    <footer>

    </footer>
    <script>
        console.log(window.location.search);
        let urlParameter=new URLSearchParams(window.location.search)
        let category=urlParameter.get('category')

        let generateBtn=document.querySelector(".btn button")
        if (category && generateBtn) {
            generateBtn.setAttribute('onclick',`window.location.href='/generate?category=${category}'`)
        }
    </script>
</body>